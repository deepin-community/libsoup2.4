From: Patrick Griffis <pgriffis@igalia.com>
Date: Mon, 16 Sep 2024 13:56:09 -0500
Subject: Define GLIB_VERSION_MAX_ALLOWED and GLIB_VERSION_MIN_REQUIRED

(cherry picked from commit 3c54033634ae537b52582900a7ba432c52ae8174)
---
 meson.build          | 3 +++
 tests/hsts-db-test.c | 3 ++-
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/meson.build b/meson.build
index 130f813..459eccc 100644
--- a/meson.build
+++ b/meson.build
@@ -125,6 +125,9 @@ endif
 
 cdata = configuration_data()
 
+cdata.set('GLIB_VERSION_MAX_ALLOWED', 'GLIB_VERSION_2_70')
+cdata.set('GLIB_VERSION_MIN_REQUIRED', 'GLIB_VERSION_2_70')
+
 brotlidec_dep = dependency('libbrotlidec', required : get_option('brotli'))
 if brotlidec_dep.found()
   cdata.set('WITH_BROTLI', true)
diff --git a/tests/hsts-db-test.c b/tests/hsts-db-test.c
index 9f007fa..121a4a1 100644
--- a/tests/hsts-db-test.c
+++ b/tests/hsts-db-test.c
@@ -1,8 +1,9 @@
+#include "test-utils.h"
+
 #include <glib.h>
 #include <glib/gstdio.h>
 
 #include <stdio.h>
-#include "test-utils.h"
 
 #define DB_FILE "hsts-db.sqlite"
 
